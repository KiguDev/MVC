#pragma checksum "C:\Users\SIQUEIROS\source\repos\CURSO\RestauranteMVC\Views\Ordenes\Productos.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "30e594b61391359b29476dee1c271c73ccc043c8"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Ordenes_Productos), @"mvc.1.0.view", @"/Views/Ordenes/Productos.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Ordenes/Productos.cshtml", typeof(AspNetCore.Views_Ordenes_Productos))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Users\SIQUEIROS\source\repos\CURSO\RestauranteMVC\Views\_ViewImports.cshtml"
using RestauranteMVC;

#line default
#line hidden
#line 2 "C:\Users\SIQUEIROS\source\repos\CURSO\RestauranteMVC\Views\_ViewImports.cshtml"
using RestauranteMVC.Models;

#line default
#line hidden
#line 3 "C:\Users\SIQUEIROS\source\repos\CURSO\RestauranteMVC\Views\_ViewImports.cshtml"
using Restaurante.Core.Entities;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"30e594b61391359b29476dee1c271c73ccc043c8", @"/Views/Ordenes/Productos.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"3021e54aff9ad800a8f73fda0d422276f9de9a1f", @"/Views/_ViewImports.cshtml")]
    public class Views_Ordenes_Productos : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "C:\Users\SIQUEIROS\source\repos\CURSO\RestauranteMVC\Views\Ordenes\Productos.cshtml"
  
    ViewData["Title"] = "Productos";

#line default
#line hidden
            BeginContext(47, 82, true);
            WriteLiteral("\r\n\r\n<div class=\"row\" id=\"card-container\" style=\"margin-top:40px;\">\r\n\r\n</div>\r\n\r\n\r\n");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(146, 3623, true);
                WriteLiteral(@"

    <script>
        
        var urlParams = new URLSearchParams(window.location.search);
        var idOrden = urlParams.get(""id"");
        $(document).ready(function () {
            //$('.modal').modal();
            fetch(""https://localhost:44389/api/productos"").then(function (response) { return response.json() }).then(function (jsonResponse) {
                $.each(jsonResponse, function (index, value) {
                    var precio = jsonResponse[index][""precio""];
                    var idProducto = jsonResponse[index][""id""];
                    var cardCol = document.createElement(""div"");
                    cardCol.className = ""col s4"";
                    var card = document.createElement(""div"");
                    card.className = ""card"";
                    var cardImage = document.createElement(""div"")
                    cardImage.className = ""card-image"";
                    var a = document.createElement(""a"");
                    a.className = ""btn-floating halfway-fab");
                WriteLiteral(@" waves-effect waves-light red"";
                    a.addEventListener(""click"", function () { AgregarProducto(idProducto); });
                    var icon = document.createElement(""i"");
                    icon.className = ""material-icons"";
                    icon.innerHTML = ""add"";
                    a.appendChild(icon);
                    cardImage.appendChild(a);
                    var image = document.createElement(""img"");
                    image.src = jsonResponse[index]['imagen'];
                    image.width = 200;
                    image.height = 200;
                    var cardContent = document.createElement(""div"");
                    cardContent.className = ""card-content""
                    var input = document.createElement(""input"");
                    input.type = ""number"";
                    input.id = `cantidad-${idProducto}`;
                    input.placeholder = ""Cantidad"";
                    var content = document.createElement(""p"");
                    ");
                WriteLiteral(@"content.innerHTML = `Precio: $${precio}`;
                    content.className = ""flow-text"";
                    cardContent.appendChild(content);
                    cardContent.appendChild(input);
                    var title = document.createElement(""span"");
                    title.className = ""card-title"";
                    title.innerHTML = jsonResponse[index]['nombre'];
                    cardImage.appendChild(image);
                    cardImage.appendChild(title);
                    card.appendChild(cardImage);
                    card.appendChild(cardContent)
                    cardCol.appendChild(card);
                    var cardContainer = document.getElementById(""card-container"");
                    cardContainer.appendChild(cardCol);
                });
            });
        });

        function AgregarProducto(id) {
            var cantidad = document.getElementById(`cantidad-${id}`).value;
            console.log(`${id} ${idOrden} ${cantidad}`);
           ");
                WriteLiteral(@" var data = {
                ordenId: idOrden,
                productoId: id,
                cantidad: cantidad
            }
            var requestOptions = { method: 'POST', body: JSON.stringify(data), headers: { 'Content-Type': 'application/json' } };

            fetch('https://localhost:44389/api/orderdetails', requestOptions).then(function (response) {
                if (response.ok) {
                    window.location.replace(`/orderdetails?id=${idOrden}`);
                }
            });
        };

    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
